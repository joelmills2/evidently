const __vite__fileDeps=["static/js/index-BxdV-O0R.js","static/js/vendor-B6L6ZIHO.js","static/js/createSvgIcon-Cft9oytb.js","static/js/index-eaga5G2_.js","static/js/DashboardViewParams-DUAt1rOE.js","static/js/index-D8LRCjFc.js","static/js/DashboardWidgets-jiZ90GVO.js","static/js/DashboardContent-BlUfHis1.js","static/js/Edit-C6j3sLOf.js","static/js/index-Bty_M5pv.js","static/js/index-Oa-3Nknz.js","static/js/ContentCopy-CiWzyCWF.js","static/css/index-C5isHALn.css","static/js/index-Dcmsonjc.js","static/js/index-MCjedMJ-.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Q=Object.defineProperty;var Y=(e,t,o)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var P=(e,t,o)=>(Y(e,typeof t!="symbol"?t+"":t,o),o);import{c as M,a as K,g as y,u as X,j as r,A as L,b as A,i as Z,T as w,d as ee,R as C,r as te,S as re,B as S,I as oe,C as se,e as ne,f as ie,h as ae,k,L as ce,l as he,G as I,F as le,m as de,n as ue,o as pe,p as fe,M as m,D as F,q as me,s as je,t as O,z as f,v as xe,w as ye,x as ge,y as _e}from"./vendor-B6L6ZIHO.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}})();const{transitions:T}=M(),l="#02b3e3",ve="#ded5d5";console.log("colors in v2 theme",K);const Ee=M({shape:{borderRadius:5},palette:{primary:{main:y[900],light:y[200]},secondary:{main:`${l} !important`,dark:"#c10400",light:y[200]},background:{default:"#fff",paper:"#fff"}},components:{MuiLink:{styleOverrides:{root:{transition:T.create("color",{duration:T.duration.enteringScreen}),"&:hover":{color:`${l} !important`}}}},MuiTabs:{styleOverrides:{flexContainer:{gap:"10px"},indicator:{backgroundColor:`${l} !important`,"&.MuiTabs-indicator":{backgroundColor:`${l} !important`},"&:hover":{color:`${l} !important`}}}},MuiButton:{styleOverrides:{root:{"&:hover":{color:`${l} !important`}},contained:{"&:hover":{background:y[800],color:`${l} !important`}},outlined:{"&:hover":{color:`${l} !important`,borderColor:`${l} !important`,background:"#fff"}},text:{"&:hover":{color:`${l} !important`,borderColor:`${l} !important`}}}},MuiTab:{defaultProps:{color:"secondary"},styleOverrides:{root:{fontSize:"1rem",borderRadius:"5px","&:hover":{background:y[200],color:`${l} !important`}}}},MuiIconButton:{styleOverrides:{root:{transition:T.create("color",{duration:T.duration.enteringScreen}),color:y[900],"&:hover":{color:`${l} !important`}}}},MuiSwitch:{defaultProps:{color:"secondary"}},MuiToggleButton:{defaultProps:{color:"secondary"},styleOverrides:{root:{transition:T.create("color",{duration:T.duration.enteringScreen}),color:y[900],"&:hover":{color:`${l} !important`},"&.Mui-disabled":{border:"unset",background:y[100]}}}},MuiToggleButtonGroup:{defaultProps:{color:"secondary"}},MuiLinearProgress:{defaultProps:{color:"secondary"}},MuiPaper:{styleOverrides:{root:{boxShadow:"unset",border:"1px solid",borderColor:ve}}}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{fontWeight:"bold",textTransform:"none"}}}),_=()=>{var t;const e=X();return r.jsxs(L,{severity:"error",children:[r.jsx(A,{children:"Something went wrong"}),Z(e)&&r.jsxs(r.Fragment,{children:[r.jsx(w,{fontWeight:"bold",children:[`Status: ${e.status}`,typeof((t=e.data)==null?void 0:t.detail)=="string"&&e.data.detail].filter(Boolean).join(", ")}),typeof e.data=="string"&&r.jsx(w,{children:e.data})]}),typeof e=="string"&&r.jsx(w,{fontWeight:"bold",children:e})]})},N=({data:e})=>{const[t,o]=C.useState(!1),n=C.useRef(null);return te.useEffect(()=>{e!=null&&e.error&&(n.current=e.error,o(!0))},[e]),r.jsx(re,{open:t,onClose:(i,s)=>{s!=="clickaway"&&o(!1)},children:r.jsx(L,{severity:"error",children:r.jsxs(S,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:2,children:[r.jsxs(S,{children:[r.jsx(A,{children:"Something went wrong"}),n.current&&r.jsx(w,{fontWeight:"bold",children:[typeof n.current.status_code=="number"&&`Status: ${n.current.status_code}`,typeof n.current.detail=="string"&&n.current.detail].filter(Boolean).join(", ")})]}),r.jsx(S,{children:r.jsx(oe,{size:"small","aria-label":"close",color:"inherit",onClick:()=>{o(!1)},children:r.jsx(se,{})})})]})})})},R=()=>{const e=ee();return r.jsx(N,{data:e})},be=()=>{var o;const t=(o=ne().find(n=>{var i;return!!((i=n.data)!=null&&i.error)}))==null?void 0:o.data;return r.jsx(N,{data:t})},Se="modulepreload",ke=function(e){return"/"+e},B={},g=function(t,o,n){let i=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(o.map(c=>{if(c=ke(c),c in B)return;B[c]=!0;const j=c.endsWith(".css"),d=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=j?"stylesheet":Se,j||(h.as="script",h.crossOrigin=""),h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),j)return new Promise((E,b)=>{h.addEventListener("load",E),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}return i.then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};function p(e){return e!=null&&e.notThrowExc?we:Te}const Te=e=>{const{data:t,error:o,response:n}=e;if(o)throw ie(o,{status:n.status});return t},we=e=>{const{data:t,error:o,response:n}=e;return o?{error:{...o,status_code:n.status}}:t},Pe=({api:e})=>({loader:()=>e.GET("/api/version").then(p())}),Ie=ae,v=Ie({baseUrl:"/"}),Oe="/static/img/logo.png",{loader:De}=Pe({api:v}),Ce={path:"/",lazy:async()=>{const{HomeComponentTemplate:e,...t}=await g(()=>import("./index-BxdV-O0R.js"),__vite__mapDeps([0,1,2]));return{Component:()=>r.jsxs(r.Fragment,{children:[r.jsx(be,{}),r.jsx(e,{logoSrc:Oe})]}),...t}},loader:De,ErrorBoundary:_},G=e=>{if(e.id)return{...e,id:e.id};throw`"id" is missing in object: ${JSON.stringify(e)}`},U=e=>{if(e.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})},Le=({api:e})=>({loader:({params:t})=>{const{projectId:o}=t;return k(o),e.GET("/api/projects/{project_id}/info",{params:{path:{project_id:o}}}).then(p()).then(G)}});function D(e){return typeof e!=typeof new Date?(console.log(`not a date ${typeof e}: ${e}`),e):`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}T${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}const u={FROM:"date_from",TO:"date_to"},Ae=e=>{let t=e.get(u.FROM),o=e.get(u.TO);return{date_from:t,date_to:o}},Re=({dataRanges:e})=>{const[t,o]=je(),{date_from:n,date_to:i}=Ae(t),s=O(n||e.minDate),a=O(i||e.maxDate);return{isCorrectTimeInterval:s.isValid()&&a.isValid()&&(s.isSame(a)||s.isBefore(a)),date_from:s,date_to:a,setSearchParams:o}},ut=({dataRanges:e,isDashboardHideDates:t,setIsDashboardHideDates:o,isShowDateFilter:n})=>{const{isCorrectTimeInterval:i,date_from:s,date_to:a,setSearchParams:c}=Re({dataRanges:e}),j=i?"":"incorrect time interval",d=h=>E=>{c(b=>(b.delete(h),E&&b.append(h,D(E.toDate())),b),{preventScrollReset:!0,replace:!0})};return r.jsx(ce,{dateAdapter:he,adapterLocale:"en-gb",children:r.jsxs(I,{container:!0,padding:1,zIndex:1,gap:2,justifyContent:"flex-end",alignItems:"flex-end",children:[r.jsx(I,{item:!0,children:r.jsx(S,{minWidth:180,display:"flex",justifyContent:"center",children:r.jsx(le,{control:r.jsx(de,{checked:t,onChange:h=>o(h.target.checked)}),label:"Show in order"})})}),n&&r.jsxs(r.Fragment,{children:[r.jsx(I,{item:!0,xs:12,md:2,children:r.jsxs(ue,{fullWidth:!0,children:[r.jsx(pe,{children:"Period"}),r.jsxs(fe,{variant:"standard",defaultValue:"",onChange:h=>{const[E,b]=h.target.value.split(",");if(E===""){c(x=>(x.delete(u.FROM),x.delete(u.TO),x),{preventScrollReset:!0,replace:!0});return}const[J,q]=[Number(E),b],$=e.maxDate.subtract(J,q);c(x=>(x.delete(u.FROM),x.delete(u.TO),x.append(u.FROM,D($.isBefore(e.minDate)?e.minDate.toDate():$.toDate())),x.append(u.TO,D(e.maxDate.toDate())),x),{preventScrollReset:!0,replace:!0})},children:[r.jsx(m,{value:"",children:r.jsx("em",{children:"None"})}),r.jsx(m,{value:"10,minutes",children:"Last 10 Minutes"}),r.jsx(m,{value:"30,minutes",children:"Last 30 Minutes"}),r.jsx(m,{value:"1,hours",children:"Last 1 Hours"}),r.jsx(m,{value:"2,hours",children:"Last 2 Hours"}),r.jsx(m,{value:"8,hours",children:"Last 8 Hours"}),r.jsx(m,{value:"24,hours",children:"Last 24 Hours"}),r.jsx(m,{value:"7,days",children:"Last 7 Days"}),r.jsx(m,{value:"14,days",children:"Last 14 Days"}),r.jsx(m,{value:"28,days",children:"Last 28 Days"}),r.jsx(m,{value:"60,days",children:"Last 60 Days"})]})]})}),r.jsx(I,{item:!0,children:r.jsxs(S,{display:"flex",alignItems:"center",gap:2,children:[r.jsx(F,{minDate:e.minDate,maxDate:e.maxDate&&a,slotProps:{textField:{variant:"standard"}},label:"From",value:s,onChange:d(u.FROM)}),r.jsx(S,{height:1,display:"flex",alignItems:"center",children:r.jsx(w,{children:" - "})}),r.jsx(F,{minDate:e.minDate&&s,maxDate:e.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:a,onChange:d(u.TO)})]})}),r.jsx(I,{item:!0,xs:12,children:r.jsx(me,{unmountOnExit:!0,in:!i,children:r.jsxs(L,{severity:"error",children:[r.jsx(A,{children:"Error"}),j]})})})]})]})})};class $e{constructor(){P(this,"at",0);P(this,"ch","");P(this,"text","");P(this,"escapee",{'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"})}error(t){throw{name:"SyntaxError",message:t,at:this.at,text:this.text}}next(){return this.ch=this.text.charAt(this.at++)}check(t){t!==this.ch&&this.error(`Expected '${t}' instead of '${this.ch}'`),this.ch=this.text.charAt(this.at++)}number(){var t="";if(this.ch==="-"&&(t="-",this.check("-")),this.ch==="I")return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),-1/0;for(;this.ch>="0"&&this.ch<="9";)t+=this.ch,this.next();if(this.ch===".")for(t+=".";this.next()&&this.ch>="0"&&this.ch<="9";)t+=this.ch;if(this.ch==="e"||this.ch==="E")for(t+=this.ch,this.next(),(this.ch==="-"||this.ch==="+")&&(t+=this.ch,this.next());this.ch>="0"&&this.ch<="9";)t+=this.ch,this.next();return+t}string(){var t,o,n="",i;if(this.ch==='"')for(;this.next();){if(this.ch==='"')return this.next(),n;if(this.ch==="\\")if(this.next(),this.ch==="u"){for(i=0,o=0;o<4&&(t=parseInt(this.next(),16),!!isFinite(t));o++)i=i*16+t;n+=String.fromCharCode(i)}else if(this.escapee[this.ch])n+=this.escapee[this.ch];else break;else n+=this.ch}this.error("Bad string")}white(){for(;this.ch&&this.ch<=" ";)this.next()}word(){switch(this.ch){case"t":return this.check("t"),this.check("r"),this.check("u"),this.check("e"),!0;case"f":return this.check("f"),this.check("a"),this.check("l"),this.check("s"),this.check("e"),!1;case"n":return this.check("n"),this.check("u"),this.check("l"),this.check("l"),null;case"N":return this.check("N"),this.check("a"),this.check("N"),NaN;case"I":return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),1/0}this.error("Unexpected '"+this.ch+"'")}array(){var t=[];if(this.ch==="["){if(this.check("["),this.white(),this.ch==="]")return this.check("]"),t;for(;this.ch;){if(t.push(this.value()),this.white(),this.ch==="]")return this.check("]"),t;this.check(","),this.white()}}this.error("Bad array")}object(){var t,o={};if(this.ch==="{"){if(this.check("{"),this.white(),this.ch==="}")return this.check("}"),o;for(;this.ch;){if(t=this.string(),this.white(),this.check(":"),Object.hasOwnProperty.call(o,t)&&this.error('Duplicate key "'+t+'"'),o[t]=this.value(),this.white(),this.ch==="}")return this.check("}"),o;this.check(","),this.white()}}this.error("Bad object")}value(){switch(this.white(),this.ch){case"{":return this.object();case"[":return this.array();case'"':return this.string();case"-":return this.number();default:return this.ch>="0"&&this.ch<="9"?this.number():this.word()}}parse(t,o){let n;return this.text=t,this.at=0,this.ch=" ",n=this.value(),this.white(),this.ch&&this.error("Syntax error"),o!==void 0?function i(s,a){var c,j,d=s[a];if(d&&typeof d=="object")for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(j=i(d,c),j!==void 0?d[c]=j:delete d[c]);return o.call(s,a,d)}({"":n},""):n}}const z=e=>new $e().parse(e),Fe=({api:e})=>({loader:({params:t,request:o})=>{k(t.projectId);const{searchParams:n}=new URL(o.url);let i=n.get(u.FROM),s=n.get(u.TO);return i&&!O(i).isValid()&&(i=null),s&&!O(s).isValid()&&(s=null),e.GET("/api/projects/{project_id}/dashboard",{params:{path:{project_id:t.projectId},query:{timestamp_start:i,timestamp_end:s}},parseAs:"text"}).then(p()).then(z)}}),{loader:Be}=Fe({api:v}),Me={index:!0,id:"dashboard",lazy:async()=>{const[{DashboardComponentTemplate:e},{DashboardWidgets:t}]=await Promise.all([g(()=>import("./index-eaga5G2_.js"),__vite__mapDeps([3,1,4,5])),g(()=>import("./DashboardWidgets-jiZ90GVO.js"),__vite__mapDeps([6,1,7,4,2,8]))]);return{Component:()=>r.jsx(e,{Dashboard:({data:{widgets:o}})=>r.jsx(t,{widgets:o})})}},loader:Be,ErrorBoundary:_},H={RELOAD_SNAPSHOTS:"reload-snapshots",DELETE_SNAPSHOT:"delete-snapshot"},Ne=f.object({action:f.literal(H.RELOAD_SNAPSHOTS)}),Ge=f.object({action:f.literal(H.DELETE_SNAPSHOT),snapshotId:f.string().uuid()}),V=e=>async({request:t,params:o})=>{k(o.projectId),U(t);const n=await t.json();if(Ne.safeParse(n).success)return e.GET("/api/projects/{project_id}/reload",{params:{path:{project_id:o.projectId}}}).then(p({notThrowExc:!0}));const s=Ge.safeParse(n);return s.success?e.DELETE("/api/projects/{project_id}/{snapshot_id}",{params:{path:{project_id:o.projectId,snapshot_id:s.data.snapshotId}}}).then(p({notThrowExc:!0})):{error:{status_code:!1,detail:"Unknown action"}}},Ue=({api:e})=>({loader:({params:t})=>(k(t.projectId),t.snapshotId?Promise.resolve([]):e.GET("/api/projects/{project_id}/reports",{params:{path:{project_id:t.projectId}}}).then(p())),action:V(e)}),ze=({api:e})=>({loader:({params:t})=>(k(t.projectId),t.snapshotId?Promise.resolve([]):e.GET("/api/projects/{project_id}/test_suites",{params:{path:{project_id:t.projectId}}}).then(p())),action:V(e)}),He=({api:e})=>({loader:({params:t})=>{const{projectId:o,snapshotId:n}=t;return k(o),k(n),e.GET("/api/projects/{project_id}/{snapshot_id}/data",{params:{path:{project_id:o,snapshot_id:n}},parseAs:"text"}).then(p()).then(z)}}),{loader:Ve}=He({api:v}),W={path:":snapshotId",lazy:async()=>{const{SnapshotTemplate:e,...t}=await g(()=>import("./index-Bty_M5pv.js"),__vite__mapDeps([9,1,7,4,2,8]));return{Component:()=>r.jsx(e,{api:v}),...t}},loader:Ve,ErrorBoundary:_},{loader:We,action:Je}=Ue({api:v}),qe={id:"reports",path:"reports",lazy:async()=>{const{SnapshotsListTemplate:e,...t}=await g(()=>import("./index-Oa-3Nknz.js"),__vite__mapDeps([10,1,5,11,2,12]));return{...t,Component:()=>r.jsxs(r.Fragment,{children:[r.jsx(R,{}),r.jsx(e,{type:"reports"})]})}},loader:We,action:Je,ErrorBoundary:_,children:[W]},{loader:Qe,action:Ye}=ze({api:v}),Ke={id:"test_suites",path:"test-suites",lazy:async()=>{const{SnapshotsListTemplate:e,...t}=await g(()=>import("./index-Oa-3Nknz.js"),__vite__mapDeps([10,1,5,11,2,12]));return{...t,Component:()=>r.jsxs(r.Fragment,{children:[r.jsx(R,{}),r.jsx(e,{type:"test suites"})]})}},loader:Qe,action:Ye,ErrorBoundary:_,children:[W]},{loader:Xe}=Le({api:v}),Ze={path:"projects/:projectId",lazy:()=>g(()=>import("./index-Dcmsonjc.js"),__vite__mapDeps([13,1,11,2])),loader:Xe,ErrorBoundary:_,children:[Me,qe,Ke]},et=f.object({action:f.literal("edit-project")}),tt=f.object({action:f.literal("create-new-project")}),rt=f.object({action:f.literal("delete-project"),projectId:f.string().uuid()}),ot=({api:e})=>({loader:()=>e.GET("/api/projects").then(p()).then(t=>t.map(G)),action:async({request:t})=>{U(t);const o=await t.json();if(tt.safeParse(o).success)return e.POST("/api/projects",{body:o}).then(p({notThrowExc:!0}));const n=rt.safeParse(o);if(n.success)return e.DELETE("/api/projects/{project_id}",{params:{path:{project_id:n.data.projectId}}}).then(p({notThrowExc:!0}));if(et.safeParse(o).success)return e.POST("/api/projects/{project_id}/info",{params:{path:{project_id:o.id}},body:o}).then(p({notThrowExc:!0}));throw"Undefined action"}}),{loader:st,action:nt}=ot({api:v}),it={index:!0,lazy:()=>g(()=>import("./index-MCjedMJ-.js"),__vite__mapDeps([14,1,8,2,5])).then(e=>({...e,Component:()=>r.jsxs(r.Fragment,{children:[r.jsx(R,{}),r.jsx(e.Component,{})]})})),loader:st,action:nt,ErrorBoundary:_},at={path:"*",Component:()=>r.jsx(S,{display:"flex",justifyContent:"center",children:r.jsx(w,{variant:"h4",children:"Page Not Found"})})},ct={...Ce,children:[it,Ze,at],ErrorBoundary:_},ht=xe([ct]);ye.createRoot(document.getElementById("root")).render(r.jsx(C.StrictMode,{children:r.jsx(ge,{theme:Ee,children:r.jsx(_e,{router:ht})})}));export{ut as D,z as J,p as r,Ee as t};
